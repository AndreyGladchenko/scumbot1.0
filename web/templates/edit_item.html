{% extends "layout.html" %}

{% block content %}
<h2>Edit Item</h2>

<form method="POST">
  <div>
    <label for="name">Name:</label><br>
    <input type="text" id="name" name="name" value="{{ item.name }}" required>
  </div>

  <div>
    <label for="category">Category:</label><br>
    <input type="text" id="category" name="category" value="{{ item.category }}" required>
  </div>

  <div>
    <label for="price">Price:</label><br>
    <input type="number" id="price" name="price" value="{{ item.price | int }}" step="1" min="0" required>
  </div>
  
  <div>
  <label for="description">Description:</label><br>
  <textarea id="description" name="description">{{ item.description if item else '' }}</textarea>
  </div>

  <div>
    <label for="content">Spawn Commands (one per line):</label><br>
    <textarea id="content" name="content">{% if item and item.content %}{{ item.content | join('\n') }}{% endif %}</textarea>
  </div>

  <div>
    <label for="image_url">Image URL:</label><br>
    <input type="url" id="image_url" name="image_url" value="{{ item.image_url }}">
  </div>

  {% if item.image_url %}
    <div style="margin-top: 10px;">
      <strong>Current Image Preview:</strong><br>
      <img src="{{ item.image_url }}" alt="Item Image" style="height: 100px;">
    </div>
  {% endif %}

  <div style="margin-top: 20px;">
    <button type="submit">Save Changes</button>
    <a href="{{ url_for('items') }}">Cancel</a>
  </div>
</form>
{% endblock %}
